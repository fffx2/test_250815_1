/* =================================================================
   1. 기본 설정 및 변수 (Global Settings & Variables)
================================================================= */
:root {
    --bg-color: #f8f9fa;
    --surface-color: #ffffff;
    --primary-text-color: #2c3e50;
    --secondary-text-color: #7f8c8d;
    --border-color: #ecf0f1;
    /* ✅ 색상 변경: 새로운 브랜드 컬러 (그레이쉬 퍼플/핑크) */
    --brand-purple: #9b59b6;
    --brand-purple-dark: #8e44ad;
    --accent-color: var(--brand-purple); /* 기존 accent-color를 새 색상으로 연결 */
    --white-color: #ffffff;
    --danger-color: #e74c3c;
    --warning-color: #f39c12;
    --success-color: #2ecc71;
}

* { margin: 0; padding: 0; box-sizing: border-box; }
body { font-family: 'Pretendard', sans-serif; background-color: var(--bg-color); color: var(--primary-text-color); line-height: 1.6; }

/* =================================================================
   2. 전역 헤더 및 탭 네비게이션
================================================================= */
.header { background: linear-gradient(135deg, #2c3e50 0%, #34495e 100%); color: white; padding: 1.5rem 0; box-shadow: 0 2px 10px rgba(0,0,0,0.1); }
.header-content { max-width: 1200px; margin: 0 auto; padding: 0 2rem; }
.logo { font-size: 2rem; font-weight: 700; margin-bottom: 0.5rem; }
.tagline { font-size: 1rem; opacity: 0.9; font-weight: 300; }

.tab-navigation { background: white; border-bottom: 2px solid var(--border-color); position: sticky; top: 0; z-index: 100; }
.nav-container { max-width: 1200px; margin: 0 auto; display: flex; }
.tab-btn { padding: 1rem 2rem; background: none; border: none; font-size: 1rem; font-weight: 500; cursor: pointer; transition: all 0.3s ease; border-bottom: 3px solid transparent; color: var(--secondary-text-color); display: flex; align-items: center; gap: 8px; }
.tab-btn.active { color: var(--primary-text-color); border-bottom-color: var(--accent-color); background: linear-gradient(to bottom, transparent, rgba(155, 89, 182, 0.05)); }
.tab-btn:hover { color: var(--primary-text-color); background: rgba(155, 89, 182, 0.05); }

/* =================================================================
   3. 메인 컨텐츠 및 페이지 레이아웃
================================================================= */
.main-content { max-width: 1200px; margin: 0 auto; padding: 2rem; }
.tab-content { display: none; }
.tab-content.active { display: block; animation: fadeIn 0.5s ease; }
@keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
.page-title { margin-bottom: 2rem; font-size: 1.5rem; color: var(--primary-text-color); }

/* =================================================================
   4. Typo Guide 화면 스타일
================================================================= */
.guide-container { background: white; border-radius: 12px; padding: 2rem; box-shadow: 0 4px 20px rgba(0,0,0,0.08); }
.form-section { margin-bottom: 2rem; padding-bottom: 1.5rem; border-bottom: 1px solid var(--border-color); }
.form-section:last-child { border-bottom: none; }
.section-title { font-size: 1.2rem; font-weight: 600; margin-bottom: 1rem; }
.checkbox-group { display: flex; flex-wrap: wrap; gap: 1rem; }
.checkbox-option { display: flex; align-items: center; padding: 0.75rem 1rem; border: 2px solid var(--border-color); border-radius: 8px; cursor: pointer; transition: all 0.3s ease; }
.checkbox-option:hover { border-color: var(--accent-color); background: rgba(155, 89, 182, 0.05); }
.checkbox-option input[type="checkbox"] { margin-right: 0.5rem; }
.checkbox-option input[type="checkbox"]:checked ~ span { font-weight: 600; color: var(--accent-color); }
.checkbox-option input[type="checkbox"]:checked ~ span::before { content: '✔ '; }
.age-display { text-align: center; margin-top: 1rem; font-weight: 500; color: var(--accent-color); font-size: 1.1rem; }
.text-input { width: 100%; padding: 0.75rem 1rem; border: 2px solid var(--border-color); border-radius: 8px; font-size: 1rem; }
.text-input:focus { outline: none; border-color: var(--accent-color); }
.btn { padding: 0.875rem 2rem; border: none; border-radius: 8px; font-size: 1rem; font-weight: 600; cursor: pointer; transition: all 0.3s ease; display: inline-flex; align-items: center; gap: 0.5rem; }
.btn-primary { background: linear-gradient(135deg, var(--brand-purple) 0%, var(--brand-purple-dark) 100%); color: white; }
.btn-primary:hover { transform: translateY(-2px); box-shadow: 0 4px 15px rgba(155, 89, 182, 0.4); }
.results-section { margin-top: 2rem; padding: 2rem; background: var(--bg-color); border-radius: 12px; border: 1px solid var(--border-color); display: none; }
.results-section.show { display: block; animation: slideUp 0.5s ease; }
@keyframes slideUp { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }

/* ✅ 새로운 연령 범위 슬라이더 스타일 */
.age-slider-container { position: relative; width: 100%; height: 50px; }
.range-slider-wrapper { position: relative; height: 20px; }
.slider-track, .slider-range { position: absolute; left: 0; right: 0; top: 50%; transform: translateY(-50%); height: 4px; border-radius: 2px; }
.slider-track { background-color: var(--border-color); }
.slider-range { background-color: var(--accent-color); }
.range-slider-wrapper input[type="range"] { position: absolute; width: 100%; height: 4px; -webkit-appearance: none; background: transparent; pointer-events: none; }
.range-slider-wrapper input[type="range"]::-webkit-slider-thumb { -webkit-appearance: none; width: 20px; height: 20px; background-color: var(--accent-color); border-radius: 50%; border: 3px solid white; box-shadow: 0 0 5px rgba(0,0,0,0.2); cursor: pointer; pointer-events: auto; }
.range-slider-wrapper input[type="range"]::-moz-range-thumb { -moz-appearance: none; width: 20px; height: 20px; background-color: var(--accent-color); border-radius: 50%; border: 3px solid white; box-shadow: 0 0 5px rgba(0,0,0,0.2); cursor: pointer; pointer-events: auto; }

/* AI 생성 결과 카드 스타일 (이하 생략 - 기존과 동일) */
.font-system-card, .color-system-card { background: var(--surface-color); border: 1px solid var(--border-color); border-radius: 12px; padding: 24px; margin-bottom: 24px; }
.card-header { display: flex; align-items: center; gap: 12px; font-size: 18px; font-weight: 700; margin-bottom: 20px; }
.font-item { display: grid; grid-template-columns: 80px 1fr; align-items: center; border-bottom: 1px solid var(--border-color); padding: 12px 0; font-size: 14px; }
.font-item-label { font-weight: 600; color: var(--secondary-text-color); }
.font-guideline { font-size: 14px; color: var(--secondary-text-color); line-height: 1.6; margin-top: 16px; }
.color-item { padding-bottom: 20px; margin-bottom: 20px; border-bottom: 1px solid var(--border-color); }
.color-item:last-child { border-bottom: none; margin-bottom: 0; padding-bottom: 0; }
.color-item-header { display: flex; align-items: center; gap: 12px; margin-bottom: 16px; }
.color-swatch-lg { width: 40px; height: 40px; border-radius: 50%; border: 2px solid var(--surface-color); box-shadow: 0 2px 4px rgba(0,0,0,0.1); flex-shrink: 0; }
.color-info h5 { font-size: 15px; margin: 0; }
.color-info p { font-size: 13px; color: var(--secondary-text-color); margin: 0; }
.color-combinations { display: grid; grid-template-columns: 1fr 1fr; gap: 16px; margin-top: 12px; }
.combo-card { border-radius: 8px; padding: 16px; text-align: center; border: 1px solid var(--border-color); background-color: var(--surface-color); }
.combo-preview { font-size: 16px; font-weight: 600; padding: 20px 0; border-radius: 6px; margin-bottom: 12px; border: 1px solid rgba(0,0,0,0.1); }
.combo-details { font-size: 12px; color: var(--secondary-text-color); }
.wcag-badge { padding: 3px 8px; border-radius: 12px; font-weight: 600; color: #fff; font-size: 10px; }
.wcag-aaa { background-color: #27ae60; } .wcag-aa { background-color: #f39c12; }

/* =================================================================
   5. Feedback 화면 스타일
================================================================= */
.feedback-layout { display: flex; gap: 2rem; height: calc(100vh - 200px); }
.analysis-panel { flex: 2; background: white; border-radius: 12px; padding: 2rem; box-shadow: 0 4px 20px rgba(0,0,0,0.08); display: flex; flex-direction: column; }
.upload-area { border: 2px dashed #bdc3c7; border-radius: 12px; padding: 3rem; text-align: center; margin-bottom: 2rem; transition: all 0.3s ease; cursor: pointer; }
.upload-area:hover { border-color: var(--accent-color); background: rgba(155, 89, 182, 0.05); }
.upload-icon { font-size: 3rem; color: #bdc3c7; margin-bottom: 1rem; }
.upload-text { font-size: 1.1rem; color: var(--secondary-text-color); margin-bottom: 0.5rem; }
.upload-subtext { font-size: 0.875rem; color: #95a5a6; }
.status-indicator { display: none; align-items: center; gap: 0.5rem; margin-bottom: 1rem; }
.status-indicator.show { display: flex; }
.status-spinner { width: 20px; height: 20px; border: 2px solid var(--border-color); border-top: 2px solid var(--accent-color); border-radius: 50%; animation: spin 1s linear infinite; }
.analysis-results { flex: 1; overflow-y: auto; display: none; }
.analysis-results.show { display: block; }
.metric-card { background: var(--bg-color); border: 1px solid var(--border-color); border-radius: 8px; padding: 1.5rem; margin-bottom: 1rem; }
.metric-title { font-weight: 600; margin-bottom: 0.5rem; }
.metric-status { display: flex; align-items: center; gap: 0.5rem; margin-bottom: 1rem; }
.status-badge { padding: 0.25rem 0.75rem; border-radius: 20px; font-size: 0.875rem; font-weight: 500; }
.status-good { background: #d4edda; color: #155724; }
.status-warning { background: #fff3cd; color: #856404; }
.status-error { background: #f8d7da; color: #721c24; }
.gauge-container { height: 8px; background: var(--border-color); border-radius: 4px; }
.gauge-fill { height: 100%; border-radius: 4px; }
.gauge-good { background: var(--success-color); }
.gauge-warning { background: var(--warning-color); }
.gauge-error { background: var(--danger-color); }

/* =================================================================
   6. AI 챗봇 스타일
================================================================= */
.chatbot-panel { flex: 1; background: white; border-radius: 12px; box-shadow: 0 4px 20px rgba(0,0,0,0.08); display: flex; flex-direction: column; height: 100%; }
.chatbot-header { padding: 1.5rem; border-bottom: 1px solid var(--border-color); background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; border-radius: 12px 12px 0 0; }
.chatbot-title { font-size: 1.1rem; font-weight: 600; }
.chatbot-subtitle { font-size: 0.875rem; opacity: 0.9; margin-top: 0.25rem; }
.chat-messages { flex: 1; padding: 1rem; overflow-y: auto; display: flex; flex-direction: column; gap: 1rem; }
.message { max-width: 85%; padding: 0.875rem 1rem; border-radius: 16px; font-size: 0.9rem; line-height: 1.4; }
.message.user { align-self: flex-end; background: linear-gradient(135deg, var(--brand-purple) 0%, var(--brand-purple-dark) 100%); color: white; border-bottom-right-radius: 4px; }
.message.ai { align-self: flex-start; background: var(--bg-color); border: 1px solid var(--border-color); border-bottom-left-radius: 4px; }
.typing::after { content: '▋'; animation: blink 1s step-end infinite; }
@keyframes blink { 50% { opacity: 0; } }
.chat-input-container { padding: 1rem; border-top: 1px solid var(--border-color); }
.chat-input-wrapper { display: flex; gap: 0.5rem; align-items: flex-end; }
.chat-input { flex: 1; min-height: 40px; max-height: 120px; padding: 0.75rem 1rem; border: 2px solid var(--border-color); border-radius: 20px; resize: none; outline: none; font-family: inherit; line-height: 1.4; }
.chat-input:focus { border-color: var(--accent-color); }
.send-button { padding: 0.75rem; background: linear-gradient(135deg, var(--brand-purple) 0%, var(--brand-purple-dark) 100%); color: white; border: none; border-radius: 50%; width: 40px; height: 40px; cursor: pointer; display: flex; align-items: center; justify-content: center; transition: all 0.3s ease; }
.send-button:hover { transform: translateY(-2px); box-shadow: 0 4px 15px rgba(155, 89, 182, 0.4); }

/* =================================================================
   7. 로딩 스피너 및 기타
================================================================= */
.loading-overlay { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(255,255,255,0.8); z-index: 1000; display: none; align-items: center; justify-content: center; flex-direction: column; }
.loading-overlay.show { display: flex; }
.loading-spinner { width: 40px; height: 40px; border: 4px solid var(--border-color); border-top: 4px solid var(--accent-color); border-radius: 50%; animation: spin 1s linear infinite; }
#loadingText { margin-top: 1rem; font-weight: 500; }
@keyframes spin { from { transform: rotate(0deg); } to { transform: rotate(360deg); } }